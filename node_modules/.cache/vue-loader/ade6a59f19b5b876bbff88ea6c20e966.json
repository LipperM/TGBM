{"remainingRequest":"E:\\Web\\TGBM\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Web\\TGBM\\src\\components\\main-view.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Web\\TGBM\\src\\components\\main-view.vue","mtime":1646133940925},{"path":"E:\\Web\\TGBM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646100400721},{"path":"E:\\Web\\TGBM\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1646100400038},{"path":"E:\\Web\\TGBM\\node_modules\\babel-loader\\lib\\index.js","mtime":1646100404574},{"path":"E:\\Web\\TGBM\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646100400721},{"path":"E:\\Web\\TGBM\\node_modules\\vue-loader\\lib\\index.js","mtime":1646100403862}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TopSwitcher from './top-switcher.vue'\nimport ConfigView from './config-view.vue'\nimport ConfigNomal from './config-noaml.vue'\nimport TableLog from './table-log.vue'\nimport SockJS from 'sockjs-client'\nimport Stomp from 'stompjs'\n\nexport default {\n\tname: 'MainView',\n\tcomponents: {\n\t\tTopSwitcher,\n\t\tConfigView,\n\t\tConfigNomal,\n\t\tTableLog\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstompClient: '',\n\t\t\theaders: {},\n\t\t\tviewtype: 0,\n\t\t\thost: 'http://192.168.1.4:8080/',\n\t\t\ttable1: [{\n\t\t\t\t\tprop: 'date',\n\t\t\t\t\tlable: \"时间\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tlable: \"类型\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'token',\n\t\t\t\t\tlable: \"token\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'bnb',\n\t\t\t\t\tlable: \"资产\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'price',\n\t\t\t\t\tlable: \"价格\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'f',\n\t\t\t\t\tlable: \"剩余\"\n\t\t\t\t},\n\t\t\t],\n\t\t\ttable2: [{\n\t\t\t\t\tprop: 'date',\n\t\t\t\t\tlable: \"时间\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tlable: \"类型\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'token',\n\t\t\t\t\tlable: \"token\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'bnb',\n\t\t\t\t\tlable: \"资产\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'price',\n\t\t\t\t\tlable: \"价格\"\n\t\t\t\t}\n\t\t\t],\n\t\t\ttable3: [{\n\t\t\t\t\tprop: 'date',\n\t\t\t\t\tlable: \"时间\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'block',\n\t\t\t\t\tlable: \"block\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'method',\n\t\t\t\t\tlable: \"method\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tprop: 'value',\n\t\t\t\t\tlable: \"参数\"\n\t\t\t\t},\n\t\t\t],\n\t\t\tlist1: [{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"1\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tlist2: [{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"1\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tlist3: [{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"xxxx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: \"2\"\n\t\t\t\t}\n\t\t\t],\n\t\t}\n\t},\n\n\tprops: {\n\t\tmsg: {\n\t\t\ttype: String,\n\t\t\tdefault: function() {\n\t\t\t\treturn \"========\";\n\t\t\t}\n\t\t}\n\t},\n\n\tcreated() {\n\n\t},\n\n\tdestroyed: function() {\n\t\tthis.socketclose();\n\t},\n\n\tmounted() {\n\t\t//this.initSocket();\n\t},\n\n\tmethods: {\n\n\t\tswitchTab(index) {\n\t\t\tthis.viewtype = index;\n\t\t},\n\t\tsetsort() {\n\t\t\tconsole.log(\"set sort\");\n\t\t},\n\n\t\tinitSocket() {\n\t\t\tlet self = this;\n\t\t\tconst wsuri = this.host + \"/ws/\";\n\t\t\tlet target = '/topic/monitor';\n\t\t\tlet socket = new SockJS(wsuri);\n\t\t\tthis.stompClient = Stomp.over(socket);\n\n\t\t\tthis.headers = {\n\t\t\t\tAuthorization: ''\n\t\t\t}\n\n\t\t\tlet hd = this.headers;\n\t\t\tthis.stompClient.connect(hd, () => {\n\t\t\t\tthis.stompClient.subscribe(target, (msg) => {\n\n\t\t\t\t\tconsole.log(msg);\n\t\t\t\t\tself.socketonmessage(msg.body);\n\n\t\t\t\t}, hd);\n\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log('失败')\n\t\t\t\tconsole.log(err);\n\t\t\t\tthis.delayReconnet(Math.random() * 3000 + 2000);\n\t\t\t});\n\n\n\t\t\t//this.stompClient.onclose\n\t\t\tconsole.log(this.stompClient);\n\n\t\t},\n\n\t\tsocketonopen() {\n\t\t\tconsole.log(\"WebSocket success\");\n\t\t},\n\n\t\tsocketonerror(e) {\n\t\t\tconsole.log(\"WebSocket error\");\n\t\t\tconsole.log(e);\n\t\t},\n\n\t\tsocketonmessage(e) {\n\t\t\tconsole.log(e);\n\t\t\treturn;\n\t\t\t// const redata = JSON.parse(e);\n\t\t\tconsole.log(redata);\n\t\t},\n\n\t\tsocketsend(agentData) { //数据发送 \n\t\t\tif (!this.stompClient) return;\n\t\t\tlet hd = this.headers;\n\t\t\tvar target = \"/app/chat.addUser\";\n\t\t\tthis.stompClient.send(target, hd,\n\t\t\t\tJSON.stringify(agentData),\n\t\t\t)\n\t\t},\n\n\t\tsocketclose(e) {\n\t\t\tconsole.log(\"connection closed\");\n\t\t\tif (this.stompClient) {\n\t\t\t\tthis.stompClient.disconnect();\n\t\t\t}\n\t\t},\n\n\t\tdelayReconnet(delay) {\n\t\t\tthis.socketclose();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.initSocket();\n\t\t\t}, delay);\n\t\t},\n\n\t\tsendCmd(type, value) {\n\t\t\tconsole.log(type, value);\n\t\t\tlet cmd = type.toLowerCase();\n\t\t\tswitch (cmd) {\n\t\t\t\tcase 'getconfig':\n\t\t\t\t\t//this.excuteCmd(this.host + )\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'saveconfig':\n\t\t\t\t\tthis.excuteCmd(this.host + 'saveConfig', value);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\texcuteCmd(target, value, callback) {\n\t\t\tconsole.log(\"excute cmd = \" + target);\n\t\t\tlet headers =\n\t\t\t\tthis.$axios.post(target, value, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencode'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\n\t},\n}\n",{"version":3,"sources":["main-view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"main-view.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"content full\">\r\n\r\n\t\t<el-row :gutter=\"10\" class=\"full\">\r\n\t\t\t<el-col :span=\"5\" class=\"left\">\r\n\t\t\t\t<TopSwitcher @click=\"switchTab\"></TopSwitcher>\r\n\r\n\t\t\t\t<ConfigView v-show=\"viewtype == 0\" class=\"config-view\" @submit='sendCmd'></ConfigView>\r\n\t\t\t\t<ConfigNomal v-show=\"viewtype == 1\" class=\"config-nomal\" @submit='sendCmd'></ConfigNomal>\r\n\r\n\t\t\t</el-col>\r\n\r\n\t\t\t<el-col :span=\"19\" class=\"full-h\">\r\n\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"18\" class=\"t1\">\r\n\t\t\t\t\t\t<TableLog title=\"成交监控\" :files=\"table1\" :dataList=\"list1\"></TableLog>\r\n\t\t\t\t\t</el-col>\r\n\r\n\t\t\t\t\t<el-col :span=\"6\">\r\n\r\n\t\t\t\t\t\t<div class=\"layout-center view-tip\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-sort bt-sort\" @click=\"setsort\"></i>\r\n\t\t\t\t\t\t\t<h2>持有:<span class=\"view-tip-color\">xxxx</span></h2>\r\n\t\t\t\t\t\t\t<h2>价格:<span class=\"view-tip-color\">xxxx</span></h2>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<!-- \t<el-row class=\"t1\">\r\n\t\t\t\t\t<TableLog title=\"成交监控\" :files=\"table1\" :dataList=\"list1\"></TableLog>\r\n\t\t\t\t</el-row> -->\r\n\r\n\r\n\t\t\t\t<el-row :gutter=\"10\" class=\"t-d\">\r\n\r\n\t\t\t\t\t<el-col :span=\"12\" class=\"t2\">\r\n\t\t\t\t\t\t<TableLog title=\"代币监控\" :files=\"table2\" :dataList=\"list2\"></TableLog>\r\n\t\t\t\t\t</el-col>\r\n\r\n\t\t\t\t\t<el-col :span=\"12\" class=\"t3\">\r\n\t\t\t\t\t\t<TableLog title=\"项目方监控\" :files=\"table3\" :dataList=\"list3\"></TableLog>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\r\n\r\n\t\t\t</el-col>\r\n\r\n\r\n\r\n\r\n\t\t</el-row>\r\n\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport TopSwitcher from './top-switcher.vue'\r\n\timport ConfigView from './config-view.vue'\r\n\timport ConfigNomal from './config-noaml.vue'\r\n\timport TableLog from './table-log.vue'\r\n\timport SockJS from 'sockjs-client'\r\n\timport Stomp from 'stompjs'\r\n\r\n\texport default {\r\n\t\tname: 'MainView',\r\n\t\tcomponents: {\r\n\t\t\tTopSwitcher,\r\n\t\t\tConfigView,\r\n\t\t\tConfigNomal,\r\n\t\t\tTableLog\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstompClient: '',\r\n\t\t\t\theaders: {},\r\n\t\t\t\tviewtype: 0,\r\n\t\t\t\thost: 'http://192.168.1.4:8080/',\r\n\t\t\t\ttable1: [{\r\n\t\t\t\t\t\tprop: 'date',\r\n\t\t\t\t\t\tlable: \"时间\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\t\tlable: \"类型\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'token',\r\n\t\t\t\t\t\tlable: \"token\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'bnb',\r\n\t\t\t\t\t\tlable: \"资产\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'price',\r\n\t\t\t\t\t\tlable: \"价格\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'f',\r\n\t\t\t\t\t\tlable: \"剩余\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\ttable2: [{\r\n\t\t\t\t\t\tprop: 'date',\r\n\t\t\t\t\t\tlable: \"时间\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\t\tlable: \"类型\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'token',\r\n\t\t\t\t\t\tlable: \"token\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'bnb',\r\n\t\t\t\t\t\tlable: \"资产\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'price',\r\n\t\t\t\t\t\tlable: \"价格\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\ttable3: [{\r\n\t\t\t\t\t\tprop: 'date',\r\n\t\t\t\t\t\tlable: \"时间\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'block',\r\n\t\t\t\t\t\tlable: \"block\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'method',\r\n\t\t\t\t\t\tlable: \"method\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprop: 'value',\r\n\t\t\t\t\t\tlable: \"参数\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tlist1: [{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"1\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlist2: [{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"1\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlist3: [{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"xxxx\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: \"2\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tprops: {\r\n\t\t\tmsg: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn \"========\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\r\n\t\t},\r\n\r\n\t\tdestroyed: function() {\r\n\t\t\tthis.socketclose();\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\t//this.initSocket();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tswitchTab(index) {\r\n\t\t\t\tthis.viewtype = index;\r\n\t\t\t},\r\n\t\t\tsetsort() {\r\n\t\t\t\tconsole.log(\"set sort\");\r\n\t\t\t},\r\n\r\n\t\t\tinitSocket() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tconst wsuri = this.host + \"/ws/\";\r\n\t\t\t\tlet target = '/topic/monitor';\r\n\t\t\t\tlet socket = new SockJS(wsuri);\r\n\t\t\t\tthis.stompClient = Stomp.over(socket);\r\n\r\n\t\t\t\tthis.headers = {\r\n\t\t\t\t\tAuthorization: ''\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet hd = this.headers;\r\n\t\t\t\tthis.stompClient.connect(hd, () => {\r\n\t\t\t\t\tthis.stompClient.subscribe(target, (msg) => {\r\n\r\n\t\t\t\t\t\tconsole.log(msg);\r\n\t\t\t\t\t\tself.socketonmessage(msg.body);\r\n\r\n\t\t\t\t\t}, hd);\r\n\r\n\t\t\t\t}, (err) => {\r\n\t\t\t\t\tconsole.log('失败')\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.delayReconnet(Math.random() * 3000 + 2000);\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\t//this.stompClient.onclose\r\n\t\t\t\tconsole.log(this.stompClient);\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsocketonopen() {\r\n\t\t\t\tconsole.log(\"WebSocket success\");\r\n\t\t\t},\r\n\r\n\t\t\tsocketonerror(e) {\r\n\t\t\t\tconsole.log(\"WebSocket error\");\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t},\r\n\r\n\t\t\tsocketonmessage(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\treturn;\r\n\t\t\t\t// const redata = JSON.parse(e);\r\n\t\t\t\tconsole.log(redata);\r\n\t\t\t},\r\n\r\n\t\t\tsocketsend(agentData) { //数据发送 \r\n\t\t\t\tif (!this.stompClient) return;\r\n\t\t\t\tlet hd = this.headers;\r\n\t\t\t\tvar target = \"/app/chat.addUser\";\r\n\t\t\t\tthis.stompClient.send(target, hd,\r\n\t\t\t\t\tJSON.stringify(agentData),\r\n\t\t\t\t)\r\n\t\t\t},\r\n\r\n\t\t\tsocketclose(e) {\r\n\t\t\t\tconsole.log(\"connection closed\");\r\n\t\t\t\tif (this.stompClient) {\r\n\t\t\t\t\tthis.stompClient.disconnect();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tdelayReconnet(delay) {\r\n\t\t\t\tthis.socketclose();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.initSocket();\r\n\t\t\t\t}, delay);\r\n\t\t\t},\r\n\r\n\t\t\tsendCmd(type, value) {\r\n\t\t\t\tconsole.log(type, value);\r\n\t\t\t\tlet cmd = type.toLowerCase();\r\n\t\t\t\tswitch (cmd) {\r\n\t\t\t\t\tcase 'getconfig':\r\n\t\t\t\t\t\t//this.excuteCmd(this.host + )\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'saveconfig':\r\n\t\t\t\t\t\tthis.excuteCmd(this.host + 'saveConfig', value);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\texcuteCmd(target, value, callback) {\r\n\t\t\t\tconsole.log(\"excute cmd = \" + target);\r\n\t\t\t\tlet headers =\r\n\t\t\t\t\tthis.$axios.post(target, value, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencode'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\t.left {\r\n\t\theight: 100%;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t.view-scroller {\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t.toptable {\r\n\t\theight: 300px;\r\n\t}\r\n\r\n\t.t1 {\r\n\t\theight: 300px;\r\n\t\toverflow: hidden;\r\n\t\tborder: 2px solid #afafaf;\r\n\t\tborder-radius: 15px;\r\n\t}\r\n\r\n\t.view-tip {\r\n\t\theight: 300px;\r\n\t\tbackground-color: #dadee6;\r\n\t\tcolor: #409EFF;\r\n\t}\r\n\r\n\t.view-tip-color {\r\n\t\tcolor: #a6090b;\r\n\t}\r\n\r\n\t.bt-sort {\r\n\t\tposition: absolute;\r\n\t\tright: 10px;\r\n\t\ttop: 10px;\r\n\t\tfont-size: 28px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.t-d {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 5px;\r\n\t\theight: calc(100% - 310px);\r\n\t\t/* height: 100%; */\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.t2 {\r\n\t\theight: 100%;\r\n\t\tborder: 2px solid #afafaf;\r\n\t\tborder-radius: 15px;\r\n\t\tpadding: 5px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.t3 {\r\n\t\theight: 100%;\r\n\t\tborder: 2px solid #afafaf;\r\n\t\tborder-radius: 15px;\r\n\t\tpadding: 5px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.config-view {\r\n\t\t/* width: 80%; */\r\n\t\t/* transform: translate(10%, 0); */\r\n\t\t/* margin-top: 20px; */\r\n\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t.config-nomal {\r\n\t\t/* transform: translate(10%, 0);\r\n\t\twidth: 80%; */\r\n\t\t/* margin-top: 20px; */\r\n\t}\r\n</style>\n"]}]}